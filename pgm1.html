<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pgm1</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/styles/vs2015.min.css"
    />
  </head>
  <body>
    <pre
      class="language-html"
    ><code id="myInput" class="language-c">#include&lt;stdio.h&gt;
void main(){
    printf("Hello World");
}
    </code></pre>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/highlight.min.js"
    ></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      //Add Scroll back-to-top button in jQuery
      $(document).ready(function () {
        $(window).scroll(function () {
          if ($(this).scrollTop() > 100) {
            $("#scroll").fadeIn();
          } else {
            $("#scroll").fadeOut();
          }
        });
        $("#scroll").click(function () {
          $("html, body").animate(
            {
              scrollTop: 0,
            },
            1800
          );
          return false;
        });

        function disableScrolling() {
          console.log("Disable scrolling");
          let x = window.scrollX;
          let y = window.scrollY;
          window.onscroll = function () {
            window.scrollTo(x, y);
          };
        }

        function enableScrolling() {
          console.log("Enable scrolling");
          window.onscroll = function () {};
        }

        //  Add copy button
        let pres = document.getElementsByTagName("pre");
        Array.from(pres).forEach((element2) => {
          let element = document.createElement("button");
          element.style.fontFamily = "Nunito, sans-serif";
          element.setAttribute("class", "btn btn-dark my-2");
          element.innerHTML = "Copy To Clipboard";
          element.style.float = "top";

          element.addEventListener("click", (e) => {
            e.preventDefault();
            disableScrolling();
            console.log(e);
            let x = window.screenX;
            let y = window.screenY;

            element.innerHTML = "Copied!";
            let tarea = document.createElement("textarea");
            tarea.innerHTML = element.parentElement.children[1].innerText;
            document.body.append(tarea);
            tarea.focus();
            tarea.select();
            document.execCommand("copy");
            tarea.style.display = "none";
            setTimeout(() => {
              element.innerHTML = "Copy To Clipboard";
            }, 2000);
            setTimeout(() => {
              enableScrolling();
            }, 20);
          });
          element2.insertBefore(element, element2.children[0]);
        });
      });
    </script>

    <script></script>
  </body>
</html>
